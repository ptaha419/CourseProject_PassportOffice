@model PassportOffice.ViewModels.RegisterModel

@{
    Layout = "_Layout";
    ViewData["Title"] = "Регистрация";
}

<div class="container text-center mt-5">
    <h2>Регистрация нового пользователя</h2>

    <form asp-action="Register" asp-controller="User" method="post" enctype="multipart/form-data">
        <div class="row justify-content-md-center">
            <div class="col-md-8 col-lg-6">
                <div class="form-group mb-3">
                    <label for="Surname" class="form-label fw-bold">Фамилия</label>
                    <input type="text" id="Surname" name="Surname" class="form-control"/>
                    <span asp-validation-for="Surname" class="text-danger small"></span>
                </div>

                <div class="form-group mb-3">
                    <label for="MiddleName" class="form-label fw-bold">Отчество</label>
                    <input type="text" id="MiddleName" name="MiddleName" class="form-control"/>
                    <span asp-validation-for="MiddleName" class="text-danger small"></span>
                </div>

                <div class="form-group mb-3">
                    <label for="Name" class="form-label fw-bold">Имя</label>
                    <input type="text" id="Name" name="Name" class="form-control"/>
                    <span asp-validation-for="Name" class="text-danger small"></span>
                </div>

                <div class="form-group mb-3">
                    <label for="BirthDate" class="form-label fw-bold">Дата рождения</label>
                    <input type="date" id="BirthDate" name="BirthDate" class="form-control"/>
                    <span asp-validation-for="BirthDate" class="text-danger small"></span>
                </div>

                <div class="form-group mb-3">
                    <label for="Gender" class="form-label fw-bold">Пол</label>
                    <select id="Gender" name="Gender" class="form-select form-control">
                        <option value="">Выберите пол...</option>
                        <option value="Мужской">Мужской</option>
                        <option value="Женский">Женский</option>
                    </select>
                    <span asp-validation-for="Gender" class="text-danger small"></span>
                </div>

                <div class="form-group mb-3">
                    <label for="PhoneNumber" class="form-label fw-bold">Телефон</label>
                    <input type="tel" id="PhoneNumber" name="PhoneNumber" class="form-control"/>
                    <span asp-validation-for="PhoneNumber" class="text-danger small"></span>
                </div>

                <div class="form-group mb-3">
                    <label for="Email" class="form-label fw-bold">Email</label>
                    <input type="email" id="Email" name="Email" class="form-control"/>
                    <span asp-validation-for="Email" class="text-danger small"></span>
                </div>

                <div class="form-group mb-3">
                    <label for="Password" class="form-label fw-bold">Пароль</label>
                    <input type="password" id="Password" name="Password" class="form-control"/>
                    <span asp-validation-for="Password" class="text-danger small"></span>
                </div>

                <div class="form-group mb-3">
                    <label for="ConfirmPassword" class="form-label fw-bold">Повторите пароль</label>
                    <input type="password" id="ConfirmPassword" name="ConfirmPassword" class="form-control"/>
                    <span asp-validation-for="ConfirmPassword" class="text-danger small"></span>
                </div>

                <div class="form-group mb-3">
                    <label for="RoleId" class="form-label fw-bold">Роль пользователя</label>
                    @if (ViewBag.Roles != null && ((IEnumerable<Role>)ViewBag.Roles).Any())
                    {
                        <select id="RoleId" name="RoleId" class="form-select form-control custom-select" required>
                            <option value="" disabled selected>Выберите роль пользователя...</option>
                            @foreach (var role in (IEnumerable<Role>)ViewBag.Roles)
                            {
                                <option value="@role.Id">@role.Name</option>
                            }
                        </select>
                    }
                    else
                    {
                        <select id="RoleId" disabled class="form-select form-control custom-select">
                            <option>Нет доступных ролей</option>
                        </select>
                    }
                    <span asp-validation-for="RoleId" class="text-danger small"></span>
                </div>

                <button type="submit" class="btn btn-success w-100">Зарегистрироваться</button>
            </div>
        </div>
    </form>

    <p class="mt-3"><a href="@Url.Action("Login", "User")" class="btn btn-link">Уже есть аккаунт? Войдите!</a></p>
</div>